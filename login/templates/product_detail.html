<!-- Aquí es donde renderizas los detalles de cada producto -->
<img class="card-img-top" src="https://placehold.co/300x300/png" alt="Card image cap">
    <p>Nombre del producto: {{ product.prod_name }}</p>
    <p>Descripción : {{ product.prod_description }}</p>
    <p>Precio : {{ product.prod_price }}</p>
    <p>Vendedor : {{ product.prod_seller.user_name1 }} {{ product.prod_seller.user_surname1 }}</p>

    <div class="comments">
      <h3>Comentarios:</h3>
      {% for comment in comments %}
          <div class="comment">
              <p>{{ comment.text }}</p>
          </div>
      {% empty %}
          <p>No hay comentarios para este producto aún.</p>
      {% endfor %}
  </div>

  <script>
    $(document).ready(function () {
        $('#comment-form').submit(function (event) {
            event.preventDefault();
            var formData = $(this).serialize();

            $.post("{% url 'add_comment' %}", formData, function (response) {
                if (response.status === 'success') {
                    alert(response.message);
                    location.reload();  // Recarga la página para mostrar el comentario recién agregado
                } else {
                    alert(response.message);
                }
            });
        });
    });
</script>
  
  <div class="add-comment">
    <h3>Agregar comentario:</h3>
    <form method="POST" id="comment-form">
        {% csrf_token %}
        <input type="hidden" name="product_id" value="{{ product.prod_id }}">
        <textarea name="comment_text" rows="4" cols="50" placeholder="Escribe tu comentario aquí..." required></textarea>
        <button type="submit" class="btn btn-primary">Enviar comentario</button>
    </form>
</div>