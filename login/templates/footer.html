{% block content %}
<footer style="position: fixed; bottom: 0; left: 0; width: 100%; background-color: rgb(186, 12, 134); color: rgb(245, 248, 251);">
    <div class="container">
      <div id="weather-widget"></div>
      <script>
        function getWeatherByLocation() {
          navigator.geolocation.getCurrentPosition(function(position) {
            var lat = position.coords.latitude;
            var lon = position.coords.longitude;
            var url = 'https://api.openweathermap.org/data/2.5/weather?lat=' + lat + '&lon=' + lon + '&units=metric&appid=f9fa5864acceeac1881e98d5f989a59a';
            fetch(url)
              .then(response => response.json())
              .then(data => {
                var widget = document.getElementById('weather-widget');
                widget.innerHTML = 'El clima en ' + data.name + ' es ' + data.weather[0].description + ' y la temperatura es ' + data.main.temp + 'Â°C';
              })
              .catch(error => console.error(error));
          });
        }
        window.addEventListener('load', getWeatherByLocation);
      </script>
    </div>
  </footer>
  {% endblock %}